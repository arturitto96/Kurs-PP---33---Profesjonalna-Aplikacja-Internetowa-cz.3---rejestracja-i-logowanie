{% extends 'base.html' %}

{% block title %}Profil użytkownika{% endblock %}

{% block header %}
    <section class="navbar">
        <div class="container-fluid">
            <a class="navbar-brand"><i class="fa-sharp fa-solid fa-coins navbar-img"></i>smartBudget</a>
            {% for message in flash_messages %}
                <p class="text-{{ message.type }} border border-{{ message.type }} flash">{{ message.body }}</p>
            {% endfor %}
            <a href="/logout">
                <button class="btn btn-outline-danger navbar-btn" type="submit">Wyloguj</button>
            </a>
        </div>  
    </section>
{% endblock %}
    
{% block body %}

    <section class="side-left-middle-container">
        <nav>
        <ul class="side-navbar">
            <a href="/profile/newIncome"><li><i class="fa-sharp fa-solid fa-plus"></i> Dodaj przychód</li></a>
            <a href="/profile/newExpense"><li><i class="fa-sharp fa-solid fa-minus"></i> Dodaj wydatek</li></a>
            <a href="/profile/showBalanceSheet"><li><i class="fa-solid fa-sheet-plastic"></i></i> Wyświetl bilans</li></a>
            <div class="dropdown-center">
                <a href="" data-bs-toggle="dropdown" aria-expanded="false"><li><i class="fa-sharp fa-solid fa-gear"></i> Ustawienia</li></a>
                <ul class="dropdown-menu">
                    <a class="dropdown-item" href="/profile/editIncomesCategory"><li><i class="fa-solid fa-arrow-down"></i> Przychodów</li></a>
                    <a class="dropdown-item" href="/profile/editExpensesCategory"><li><i class="fa-solid fa-arrow-up"></i> Wydatków</li></a>
                    <a class="dropdown-item" href="/profile/editPaymentMethods"><li><i class="fa-solid fa-money-bills"></i> Płatności</li></a>
                    <a class="dropdown-item" href="/profile/editUser"><li><i class="fa-solid fa-user-gear"></i> Dane użytkownika</li></a>
                </ul>
            </div>
        </ul>
        </nav>
    </section>
    <section class="side-right-middle-container">
        <article>
        <div class="summary container-fluid">
            <h2>Witaj, {{ user.username }}!</h2>
            <h3>Twoje przychody w tym miesiącu : <span class="income-summary">{{ user.incomeSummary }} PLN</span></h3>
            <h3>Twoje wydatki w tym miesiącu : <span class="expence-summary">{{ user.expenseSummary }} PLN</span></h3>
            <h3>Bilans : 
                {% if (user.incomeSummary-user.expenseSummary) > 0 %}
                    <span class="income-summary">{{user.incomeSummary-user.expenseSummary}} PLN</span> 
                {% else %}
                    <span class="expense-summary">{{user.incomeSummary-user.expenseSummary}} PLN</span>
                {% endif %}
            </h3>
        </div>
        </article>
    </section>

{% endblock %}