{% extends 'base.html' %}

{% block title %}Rejestracja{% endblock %}

{% block navbar %}
    <!-- Navbar Section -->
    <section class="register">
        <nav class="navbar darkMode">
            <div class="container-fluid">
                <a class="navbar-brand darkMode"><i class="fa-sharp fa-solid fa-coins navbar-img"></i>smartBudget</a>
                {% for message in flash_messages %}
                    <p class="text-{{ message.type }} border border-{{ message.type }} flash">{{ message.body }}</p>
                {% endfor %}
            </div>
        </nav>
    </section>
{% endblock %}

{% block sidebar %}
{% endblock %}

{% block actionArea %}
    <!-- Signup Section -->
    <div class="setupRegisterDataBox">
        <h5>Rejestracja</h5>
        <form action="/signup/create" method="post" id="formSignup">
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-user"></i></span>
                <input name="username" type="text" class="form-control setupDataInput" placeholder="Imię" value="{{ user.name }}" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-at"></i></span>
                <input name="email" type="email" class="form-control setupDataInput" placeholder="e-mail" value="{{ user.email }}" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" onclick="hideShowPassword()"><i class="fa-solid fa-eye"></i></span>
                <input name="password" type="password" class="form-control setupDataInput" placeholder="Hasło" id="inputPassword" required>
            </div>
            <button class="btn btn-success submitBtn" type="submit">Zarejestruj</button>
            <a href="/" class="btn btn-danger submitBtn">Anuluj</a>
        </form>
    </div>

    <!-- Errors -->
    {% if user.errors is not empty %}
        <div class="infoErrorBox">
            <p>Błędy:</p>
            <ul>
                {% for error in user.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}

{% block footer %}
        <div class="footer fixed-bottom darkMode">
            <section>
                <footer>
                    <p>Artur Staszewski 2023</p>
                </footer>
            </section>
        </div>
    </div>
{% endblock %}